2026-02-20 11:49:11.692 [main] INFO  se.hitract.MicroMailApplication - Starting MicroMailApplication using Java 21.0.10 with PID 7664 (C:\Users\metet\IdeaProjects\micro-service\target\classes started by metet in C:\Users\metet\IdeaProjects\micro-service)
2026-02-20 11:49:11.695 [main] INFO  se.hitract.MicroMailApplication - No active profile set, falling back to 1 default profile: "default"
2026-02-20 11:49:17.431 [main] INFO  se.hitract.MicroMailApplication - Started MicroMailApplication in 6.031 seconds (process running for 7.07)
2026-02-20 11:51:26.639 [mailEventsListener-1] INFO  se.hitract.consumer.EmailConsumer - START: Processing email for type: HIT_CLUB_INVITE (Email: Betul7@hotmail.se)
2026-02-20 11:51:27.825 [mailEventsListener-1] INFO  s.hitract.service.MailSenderService - Mail successfully processed for: Betul7@hotmail.se
2026-02-20 11:51:27.825 [mailEventsListener-1] INFO  se.hitract.consumer.EmailConsumer - SUCCESS: Sent/Processed type: HIT_CLUB_INVITE
2026-02-20 11:56:14.691 [mailEventsListener-2] INFO  se.hitract.consumer.EmailConsumer - START: Processing email for type: CONTACT_INFO (Email: null)
2026-02-20 11:56:14.798 [mailEventsListener-2] ERROR s.hitract.service.MailgunHttpService - Failed to send mail: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
2026-02-20 11:56:14.912 [mailEventsListener-2] ERROR s.hitract.service.MailgunHttpService - Could not record failure to DB: Validation failed for classes [se.hitract.model.SentMail] during persist time for groups [jakarta.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='must not be null', propertyPath=email, rootBeanClass=class se.hitract.model.SentMail, messageTemplate='{jakarta.validation.constraints.NotNull.message}'}
]
2026-02-20 11:56:14.913 [mailEventsListener-2] ERROR s.hitract.service.MailSenderService - FAILED to process mail for null: Mailgun delivery failure: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
2026-02-20 11:56:14.913 [mailEventsListener-2] ERROR se.hitract.consumer.EmailConsumer - SYSTEM ERROR: Attempt failed for CONTACT_INFO. Rqueue will retry.
java.lang.RuntimeException: Email delivery failed
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:313)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Mailgun delivery failure: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:196)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	... 21 common frames omitted
Caused by: java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:53)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:827)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:216)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$body$0(DefaultRestClient.java:757)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.body(DefaultRestClient.java:757)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:178)
	... 22 common frames omitted
2026-02-20 11:56:23.416 [mailEventsListener-3] INFO  se.hitract.consumer.EmailConsumer - START: Processing email for type: CONTACT_INFO (Email: null)
2026-02-20 11:56:23.448 [mailEventsListener-3] ERROR s.hitract.service.MailgunHttpService - Failed to send mail: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
2026-02-20 11:56:23.452 [mailEventsListener-3] ERROR s.hitract.service.MailgunHttpService - Could not record failure to DB: Validation failed for classes [se.hitract.model.SentMail] during persist time for groups [jakarta.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='must not be null', propertyPath=email, rootBeanClass=class se.hitract.model.SentMail, messageTemplate='{jakarta.validation.constraints.NotNull.message}'}
]
2026-02-20 11:56:23.453 [mailEventsListener-3] ERROR s.hitract.service.MailSenderService - FAILED to process mail for null: Mailgun delivery failure: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
2026-02-20 11:56:23.453 [mailEventsListener-3] ERROR se.hitract.consumer.EmailConsumer - SYSTEM ERROR: Attempt failed for CONTACT_INFO. Rqueue will retry.
java.lang.RuntimeException: Email delivery failed
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:313)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Mailgun delivery failure: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:196)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	... 21 common frames omitted
Caused by: java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:53)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:827)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:216)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$body$0(DefaultRestClient.java:757)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.body(DefaultRestClient.java:757)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:178)
	... 22 common frames omitted
2026-02-20 11:56:31.442 [mailEventsListener-4] INFO  se.hitract.consumer.EmailConsumer - START: Processing email for type: CONTACT_INFO (Email: null)
2026-02-20 11:56:31.455 [mailEventsListener-4] ERROR s.hitract.service.MailgunHttpService - Failed to send mail: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
2026-02-20 11:56:31.458 [mailEventsListener-4] ERROR s.hitract.service.MailgunHttpService - Could not record failure to DB: Validation failed for classes [se.hitract.model.SentMail] during persist time for groups [jakarta.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='must not be null', propertyPath=email, rootBeanClass=class se.hitract.model.SentMail, messageTemplate='{jakarta.validation.constraints.NotNull.message}'}
]
2026-02-20 11:56:31.458 [mailEventsListener-4] ERROR s.hitract.service.MailSenderService - FAILED to process mail for null: Mailgun delivery failure: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
2026-02-20 11:56:31.458 [mailEventsListener-4] ERROR se.hitract.consumer.EmailConsumer - SYSTEM ERROR: Attempt failed for CONTACT_INFO. Rqueue will retry.
java.lang.RuntimeException: Email delivery failed
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:313)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Mailgun delivery failure: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:196)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	... 21 common frames omitted
Caused by: java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:53)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:827)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:216)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$body$0(DefaultRestClient.java:757)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.body(DefaultRestClient.java:757)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:178)
	... 22 common frames omitted
2026-02-20 12:12:40.431 [main] INFO  se.hitract.MicroMailApplication - Starting MicroMailApplication using Java 21.0.10 with PID 15048 (C:\Users\metet\IdeaProjects\micro-service\target\classes started by metet in C:\Users\metet\IdeaProjects\micro-service)
2026-02-20 12:12:40.432 [main] INFO  se.hitract.MicroMailApplication - No active profile set, falling back to 1 default profile: "default"
2026-02-20 12:12:45.345 [main] INFO  se.hitract.MicroMailApplication - Started MicroMailApplication in 5.16 seconds (process running for 5.959)
2026-02-20 12:13:19.123 [mailEventsListener-1] INFO  se.hitract.consumer.EmailConsumer - START: Processing email for type: CONTACT_INFO (Email: null)
2026-02-20 12:13:19.572 [mailEventsListener-1] ERROR s.hitract.service.MailgunHttpService - Failed to send mail via Mailgun HTTP API
java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:55)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toBodilessEntity$3(DefaultRestClient.java:801)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toBodilessEntity(DefaultRestClient.java:799)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:177)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2026-02-20 12:13:19.621 [mailEventsListener-1] ERROR s.hitract.service.MailSenderService - FAILED to process mail for null: Validation failed for classes [se.hitract.model.SentMail] during persist time for groups [jakarta.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='must not be null', propertyPath=email, rootBeanClass=class se.hitract.model.SentMail, messageTemplate='{jakarta.validation.constraints.NotNull.message}'}
]
2026-02-20 12:13:19.622 [mailEventsListener-1] ERROR se.hitract.consumer.EmailConsumer - SYSTEM ERROR: Attempt failed for CONTACT_INFO. Rqueue will retry.
java.lang.RuntimeException: Email delivery failed
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:313)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: jakarta.validation.ConstraintViolationException: Validation failed for classes [se.hitract.model.SentMail] during persist time for groups [jakarta.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='must not be null', propertyPath=email, rootBeanClass=class se.hitract.model.SentMail, messageTemplate='{jakarta.validation.constraints.NotNull.message}'}
]
	at org.hibernate.boot.beanvalidation.BeanValidationEventListener.validate(BeanValidationEventListener.java:176)
	at org.hibernate.boot.beanvalidation.BeanValidationEventListener.onPreInsert(BeanValidationEventListener.java:88)
	at org.hibernate.action.internal.EntityIdentityInsertAction.preInsert(EntityIdentityInsertAction.java:201)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:79)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:394)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:308)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy2/jdk.proxy2.$Proxy160.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:654)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy164.save(Unknown Source)
	at se.hitract.service.MailgunHttpService.logSentMail(MailgunHttpService.java:132)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:183)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	... 21 common frames omitted
2026-02-20 12:13:27.364 [mailEventsListener-2] INFO  se.hitract.consumer.EmailConsumer - START: Processing email for type: CONTACT_INFO (Email: null)
2026-02-20 12:13:27.378 [mailEventsListener-2] ERROR s.hitract.service.MailgunHttpService - Failed to send mail via Mailgun HTTP API
java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:55)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toBodilessEntity$3(DefaultRestClient.java:801)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toBodilessEntity(DefaultRestClient.java:799)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:177)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2026-02-20 12:13:27.382 [mailEventsListener-2] ERROR s.hitract.service.MailSenderService - FAILED to process mail for null: Validation failed for classes [se.hitract.model.SentMail] during persist time for groups [jakarta.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='must not be null', propertyPath=email, rootBeanClass=class se.hitract.model.SentMail, messageTemplate='{jakarta.validation.constraints.NotNull.message}'}
]
2026-02-20 12:13:27.382 [mailEventsListener-2] ERROR se.hitract.consumer.EmailConsumer - SYSTEM ERROR: Attempt failed for CONTACT_INFO. Rqueue will retry.
java.lang.RuntimeException: Email delivery failed
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:313)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: jakarta.validation.ConstraintViolationException: Validation failed for classes [se.hitract.model.SentMail] during persist time for groups [jakarta.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='must not be null', propertyPath=email, rootBeanClass=class se.hitract.model.SentMail, messageTemplate='{jakarta.validation.constraints.NotNull.message}'}
]
	at org.hibernate.boot.beanvalidation.BeanValidationEventListener.validate(BeanValidationEventListener.java:176)
	at org.hibernate.boot.beanvalidation.BeanValidationEventListener.onPreInsert(BeanValidationEventListener.java:88)
	at org.hibernate.action.internal.EntityIdentityInsertAction.preInsert(EntityIdentityInsertAction.java:201)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:79)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:394)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:308)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy2/jdk.proxy2.$Proxy160.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:654)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy164.save(Unknown Source)
	at se.hitract.service.MailgunHttpService.logSentMail(MailgunHttpService.java:132)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:183)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	... 21 common frames omitted
2026-02-20 12:13:33.314 [mailEventsListener-3] INFO  se.hitract.consumer.EmailConsumer - START: Processing email for type: CONTACT_INFO (Email: null)
2026-02-20 12:13:33.326 [mailEventsListener-3] ERROR s.hitract.service.MailgunHttpService - Failed to send mail via Mailgun HTTP API
java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:55)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toBodilessEntity$3(DefaultRestClient.java:801)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toBodilessEntity(DefaultRestClient.java:799)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:177)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2026-02-20 12:13:33.329 [mailEventsListener-3] ERROR s.hitract.service.MailSenderService - FAILED to process mail for null: Validation failed for classes [se.hitract.model.SentMail] during persist time for groups [jakarta.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='must not be null', propertyPath=email, rootBeanClass=class se.hitract.model.SentMail, messageTemplate='{jakarta.validation.constraints.NotNull.message}'}
]
2026-02-20 12:13:33.329 [mailEventsListener-3] ERROR se.hitract.consumer.EmailConsumer - SYSTEM ERROR: Attempt failed for CONTACT_INFO. Rqueue will retry.
java.lang.RuntimeException: Email delivery failed
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:313)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: jakarta.validation.ConstraintViolationException: Validation failed for classes [se.hitract.model.SentMail] during persist time for groups [jakarta.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='must not be null', propertyPath=email, rootBeanClass=class se.hitract.model.SentMail, messageTemplate='{jakarta.validation.constraints.NotNull.message}'}
]
	at org.hibernate.boot.beanvalidation.BeanValidationEventListener.validate(BeanValidationEventListener.java:176)
	at org.hibernate.boot.beanvalidation.BeanValidationEventListener.onPreInsert(BeanValidationEventListener.java:88)
	at org.hibernate.action.internal.EntityIdentityInsertAction.preInsert(EntityIdentityInsertAction.java:201)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:79)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:394)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:308)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy2/jdk.proxy2.$Proxy160.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:654)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy164.save(Unknown Source)
	at se.hitract.service.MailgunHttpService.logSentMail(MailgunHttpService.java:132)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:183)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	... 21 common frames omitted
2026-02-20 12:17:31.688 [main] INFO  se.hitract.MicroMailApplication - Starting MicroMailApplication using Java 21.0.10 with PID 15256 (C:\Users\metet\IdeaProjects\micro-service\target\classes started by metet in C:\Users\metet\IdeaProjects\micro-service)
2026-02-20 12:17:31.689 [main] INFO  se.hitract.MicroMailApplication - No active profile set, falling back to 1 default profile: "default"
2026-02-20 12:17:36.604 [main] INFO  se.hitract.MicroMailApplication - Started MicroMailApplication in 5.141 seconds (process running for 5.841)
2026-02-20 12:17:59.523 [mailEventsListener-1] INFO  se.hitract.consumer.EmailConsumer - START: Processing email for type: CONTACT_INFO (Email: null)
2026-02-20 12:18:00.199 [mailEventsListener-1] ERROR s.hitract.service.MailgunHttpService - Failed to send mail to info@hitract.se via Mailgun HTTP API
java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:52)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toBodilessEntity$3(DefaultRestClient.java:801)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toBodilessEntity(DefaultRestClient.java:799)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:172)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2026-02-20 12:18:00.282 [mailEventsListener-1] ERROR s.hitract.service.MailSenderService - FAILED to process mail for info@hitract.se: Mail sending failed for: info@hitract.se
2026-02-20 12:18:00.282 [mailEventsListener-1] ERROR se.hitract.consumer.EmailConsumer - SYSTEM ERROR: Attempt failed for CONTACT_INFO. Rqueue will retry.
java.lang.RuntimeException: Email delivery failed
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:313)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Mail sending failed for: info@hitract.se
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:181)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	... 21 common frames omitted
Caused by: java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:52)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toBodilessEntity$3(DefaultRestClient.java:801)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toBodilessEntity(DefaultRestClient.java:799)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:172)
	... 22 common frames omitted
2026-02-20 12:45:00.943 [main] INFO  se.hitract.MicroMailApplication - Starting MicroMailApplication using Java 21.0.10 with PID 13948 (C:\Users\metet\IdeaProjects\micro-service\target\classes started by metet in C:\Users\metet\IdeaProjects\micro-service)
2026-02-20 12:45:00.944 [main] INFO  se.hitract.MicroMailApplication - No active profile set, falling back to 1 default profile: "default"
2026-02-20 12:45:06.788 [main] INFO  se.hitract.MicroMailApplication - Started MicroMailApplication in 6.17 seconds (process running for 7.328)
2026-02-20 12:45:07.043 [mailEventsListener-1] INFO  se.hitract.consumer.EmailConsumer - START: Processing email for type: CONTACT_INFO (Email: null)
2026-02-20 12:45:07.300 [mailEventsListener-1] ERROR s.hitract.service.MailgunHttpService - Failed to send mail to info@hitract.se via Mailgun HTTP API
java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:52)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toBodilessEntity$3(DefaultRestClient.java:801)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toBodilessEntity(DefaultRestClient.java:799)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:172)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2026-02-20 12:45:07.369 [mailEventsListener-1] ERROR s.hitract.service.MailSenderService - FAILED to process mail for info@hitract.se: Mail sending failed for: info@hitract.se
2026-02-20 12:45:07.369 [mailEventsListener-1] ERROR se.hitract.consumer.EmailConsumer - SYSTEM ERROR: Attempt failed for CONTACT_INFO. Rqueue will retry.
java.lang.RuntimeException: Email delivery failed
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:313)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Mail sending failed for: info@hitract.se
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:181)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	... 21 common frames omitted
Caused by: java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:52)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toBodilessEntity$3(DefaultRestClient.java:801)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toBodilessEntity(DefaultRestClient.java:799)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:172)
	... 22 common frames omitted
2026-02-20 12:45:12.901 [mailEventsListener-2] INFO  se.hitract.consumer.EmailConsumer - START: Processing email for type: CONTACT_INFO (Email: null)
2026-02-20 12:45:12.928 [mailEventsListener-2] ERROR s.hitract.service.MailgunHttpService - Failed to send mail to info@hitract.se via Mailgun HTTP API
java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:52)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toBodilessEntity$3(DefaultRestClient.java:801)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toBodilessEntity(DefaultRestClient.java:799)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:172)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2026-02-20 12:45:12.935 [mailEventsListener-2] ERROR s.hitract.service.MailSenderService - FAILED to process mail for info@hitract.se: Mail sending failed for: info@hitract.se
2026-02-20 12:45:12.936 [mailEventsListener-2] ERROR se.hitract.consumer.EmailConsumer - SYSTEM ERROR: Attempt failed for CONTACT_INFO. Rqueue will retry.
java.lang.RuntimeException: Email delivery failed
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:313)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Mail sending failed for: info@hitract.se
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:181)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	... 21 common frames omitted
Caused by: java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:52)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toBodilessEntity$3(DefaultRestClient.java:801)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toBodilessEntity(DefaultRestClient.java:799)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:172)
	... 22 common frames omitted
2026-02-20 12:45:20.977 [main] INFO  se.hitract.MicroMailApplication - Starting MicroMailApplication using Java 21.0.10 with PID 10480 (C:\Users\metet\IdeaProjects\micro-service\target\classes started by metet in C:\Users\metet\IdeaProjects\micro-service)
2026-02-20 12:45:20.977 [main] INFO  se.hitract.MicroMailApplication - No active profile set, falling back to 1 default profile: "default"
2026-02-20 12:45:26.524 [main] INFO  se.hitract.MicroMailApplication - Started MicroMailApplication in 5.814 seconds (process running for 6.668)
2026-02-20 12:47:13.090 [mailEventsListener-1] INFO  se.hitract.consumer.EmailConsumer - START: Processing email for type: CONTACT_INFO (Email: null)
2026-02-20 12:47:13.398 [mailEventsListener-1] ERROR s.hitract.service.MailgunHttpService - Failed to send mail to info@hitract.se via Mailgun HTTP API
java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:52)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toBodilessEntity$3(DefaultRestClient.java:801)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toBodilessEntity(DefaultRestClient.java:799)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:172)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2026-02-20 12:47:13.468 [mailEventsListener-1] ERROR s.hitract.service.MailSenderService - FAILED to process mail for info@hitract.se: Mail sending failed for: info@hitract.se
2026-02-20 12:47:13.468 [mailEventsListener-1] ERROR se.hitract.consumer.EmailConsumer - SYSTEM ERROR: Attempt failed for CONTACT_INFO. Rqueue will retry.
java.lang.RuntimeException: Email delivery failed
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:313)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Mail sending failed for: info@hitract.se
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:181)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	... 21 common frames omitted
Caused by: java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:52)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toBodilessEntity$3(DefaultRestClient.java:801)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toBodilessEntity(DefaultRestClient.java:799)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:172)
	... 22 common frames omitted
2026-02-20 12:47:20.636 [mailEventsListener-2] INFO  se.hitract.consumer.EmailConsumer - START: Processing email for type: CONTACT_INFO (Email: null)
2026-02-20 12:47:20.703 [mailEventsListener-2] ERROR s.hitract.service.MailgunHttpService - Failed to send mail to info@hitract.se via Mailgun HTTP API
java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:52)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toBodilessEntity$3(DefaultRestClient.java:801)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toBodilessEntity(DefaultRestClient.java:799)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:172)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2026-02-20 12:47:20.722 [mailEventsListener-2] ERROR s.hitract.service.MailSenderService - FAILED to process mail for info@hitract.se: Mail sending failed for: info@hitract.se
2026-02-20 12:47:20.722 [mailEventsListener-2] ERROR se.hitract.consumer.EmailConsumer - SYSTEM ERROR: Attempt failed for CONTACT_INFO. Rqueue will retry.
java.lang.RuntimeException: Email delivery failed
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:313)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Mail sending failed for: info@hitract.se
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:181)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	... 21 common frames omitted
Caused by: java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:52)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toBodilessEntity$3(DefaultRestClient.java:801)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toBodilessEntity(DefaultRestClient.java:799)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:172)
	... 22 common frames omitted
2026-02-20 12:47:26.535 [mailEventsListener-3] INFO  se.hitract.consumer.EmailConsumer - START: Processing email for type: CONTACT_INFO (Email: null)
2026-02-20 12:47:26.547 [mailEventsListener-3] ERROR s.hitract.service.MailgunHttpService - Failed to send mail to info@hitract.se via Mailgun HTTP API
java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:52)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toBodilessEntity$3(DefaultRestClient.java:801)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toBodilessEntity(DefaultRestClient.java:799)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:172)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2026-02-20 12:47:26.553 [mailEventsListener-3] ERROR s.hitract.service.MailSenderService - FAILED to process mail for info@hitract.se: Mail sending failed for: info@hitract.se
2026-02-20 12:47:26.553 [mailEventsListener-3] ERROR se.hitract.consumer.EmailConsumer - SYSTEM ERROR: Attempt failed for CONTACT_INFO. Rqueue will retry.
java.lang.RuntimeException: Email delivery failed
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:313)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Mail sending failed for: info@hitract.se
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:181)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	... 21 common frames omitted
Caused by: java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:52)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toBodilessEntity$3(DefaultRestClient.java:801)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toBodilessEntity(DefaultRestClient.java:799)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:172)
	... 22 common frames omitted
2026-02-20 12:49:48.156 [main] INFO  se.hitract.MicroMailApplication - Starting MicroMailApplication using Java 21.0.10 with PID 11588 (C:\Users\metet\IdeaProjects\micro-service\target\classes started by metet in C:\Users\metet\IdeaProjects\micro-service)
2026-02-20 12:49:48.156 [main] INFO  se.hitract.MicroMailApplication - No active profile set, falling back to 1 default profile: "default"
2026-02-20 12:50:02.378 [main] INFO  se.hitract.MicroMailApplication - Started MicroMailApplication in 14.456 seconds (process running for 15.266)
2026-02-20 12:51:56.595 [mailEventsListener-1] INFO  se.hitract.consumer.EmailConsumer - START: Processing email for type: CONTACT_INFO (Email: null)
2026-02-20 12:51:56.881 [mailEventsListener-1] ERROR s.hitract.service.MailgunHttpService - Failed to send mail to info@hitract.se via Mailgun HTTP API
java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:52)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:827)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:216)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$body$0(DefaultRestClient.java:757)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.body(DefaultRestClient.java:757)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:172)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2026-02-20 12:51:56.946 [mailEventsListener-1] ERROR s.hitract.service.MailSenderService - FAILED to process mail for info@hitract.se: Mail sending failed for: info@hitract.se
2026-02-20 12:51:56.946 [mailEventsListener-1] ERROR se.hitract.consumer.EmailConsumer - SYSTEM ERROR: Attempt failed for CONTACT_INFO. Rqueue will retry.
java.lang.RuntimeException: Email delivery failed
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:313)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Mail sending failed for: info@hitract.se
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:181)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	... 21 common frames omitted
Caused by: java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:52)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:827)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:216)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$body$0(DefaultRestClient.java:757)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.body(DefaultRestClient.java:757)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:172)
	... 22 common frames omitted
2026-02-20 12:52:02.235 [mailEventsListener-2] INFO  se.hitract.consumer.EmailConsumer - START: Processing email for type: CONTACT_INFO (Email: null)
2026-02-20 12:52:02.246 [mailEventsListener-2] ERROR s.hitract.service.MailgunHttpService - Failed to send mail to info@hitract.se via Mailgun HTTP API
java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:52)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:827)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:216)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$body$0(DefaultRestClient.java:757)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.body(DefaultRestClient.java:757)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:172)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2026-02-20 12:52:02.251 [mailEventsListener-2] ERROR s.hitract.service.MailSenderService - FAILED to process mail for info@hitract.se: Mail sending failed for: info@hitract.se
2026-02-20 12:52:02.251 [mailEventsListener-2] ERROR se.hitract.consumer.EmailConsumer - SYSTEM ERROR: Attempt failed for CONTACT_INFO. Rqueue will retry.
java.lang.RuntimeException: Email delivery failed
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:313)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Mail sending failed for: info@hitract.se
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:181)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	... 21 common frames omitted
Caused by: java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:52)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:827)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:216)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$body$0(DefaultRestClient.java:757)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.body(DefaultRestClient.java:757)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:172)
	... 22 common frames omitted
2026-02-20 12:52:08.051 [mailEventsListener-3] INFO  se.hitract.consumer.EmailConsumer - START: Processing email for type: CONTACT_INFO (Email: null)
2026-02-20 12:52:08.071 [mailEventsListener-3] ERROR s.hitract.service.MailgunHttpService - Failed to send mail to info@hitract.se via Mailgun HTTP API
java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:52)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:827)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:216)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$body$0(DefaultRestClient.java:757)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.body(DefaultRestClient.java:757)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:172)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2026-02-20 12:52:08.079 [mailEventsListener-3] ERROR s.hitract.service.MailSenderService - FAILED to process mail for info@hitract.se: Mail sending failed for: info@hitract.se
2026-02-20 12:52:08.079 [mailEventsListener-3] ERROR se.hitract.consumer.EmailConsumer - SYSTEM ERROR: Attempt failed for CONTACT_INFO. Rqueue will retry.
java.lang.RuntimeException: Email delivery failed
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:313)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Mail sending failed for: info@hitract.se
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:181)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	... 21 common frames omitted
Caused by: java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR
	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:52)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:827)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:216)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$body$0(DefaultRestClient.java:757)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.body(DefaultRestClient.java:757)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:172)
	... 22 common frames omitted
2026-02-20 12:55:22.243 [main] INFO  se.hitract.MicroMailApplication - Starting MicroMailApplication using Java 21.0.10 with PID 11472 (C:\Users\metet\IdeaProjects\micro-service\target\classes started by metet in C:\Users\metet\IdeaProjects\micro-service)
2026-02-20 12:55:22.245 [main] INFO  se.hitract.MicroMailApplication - No active profile set, falling back to 1 default profile: "default"
2026-02-20 12:55:27.040 [main] INFO  se.hitract.MicroMailApplication - Started MicroMailApplication in 5.016 seconds (process running for 5.674)
2026-02-20 12:55:32.306 [mailEventsListener-1] INFO  se.hitract.consumer.EmailConsumer - START: Processing email for type: CONTACT_INFO (Email: null)
2026-02-20 12:55:32.919 [mailEventsListener-1] ERROR s.hitract.service.MailgunHttpService - Mailgun API Error: 500 INTERNAL_SERVER_ERROR - Body: <html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1"/>
<title>Error 500 java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</title>
</head>
<body><h2>HTTP ERROR 500 java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</h2>
<table>
<tr><th>URI:</th><td>/sandbox.hitract.se/messages</td></tr>
<tr><th>STATUS:</th><td>500</td></tr>
<tr><th>MESSAGE:</th><td>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</td></tr>
<tr><th>SERVLET:</th><td>com.github.tomakehurst.wiremock.servlet.WireMockHandlerDispatchingServlet-773cbf4f</td></tr>
<tr><th>CAUSED BY:</th><td>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</td></tr>
</table>
<h3>Caused by:</h3><pre>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])
	at java.base/java.util.stream.Collectors.duplicateKeyException(Unknown Source)
	at java.base/java.util.stream.Collectors.lambda$uniqKeysMapAccumulator$1(Unknown Source)
	at java.base/java.util.stream.ReduceOps$3ReducingSink.accept(Unknown Source)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.copyInto(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.evaluate(Unknown Source)
	at java.base/java.util.stream.ReferencePipeline.collect(Unknown Source)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildRequestPartModel(TemplateEngine.java:201)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildRequestModel(TemplateEngine.java:173)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildModelForRequest(TemplateEngine.java:146)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.LazyTemplateEngine.buildModelForRequest(LazyTemplateEngine.java:42)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.ResponseTemplateTransformer.transform(ResponseTemplateTransformer.java:77)
	at com.github.tomakehurst.wiremock.stubbing.AbstractStubMappings.applyV2Transformations(AbstractStubMappings.java:152)
	at com.github.tomakehurst.wiremock.stubbing.AbstractStubMappings.serveFor(AbstractStubMappings.java:110)
	at com.github.tomakehurst.wiremock.core.WireMockApp.serveStubFor(WireMockApp.java:293)
	at com.github.tomakehurst.wiremock.http.StubRequestHandler.handleRequest(StubRequestHandler.java:73)
	at com.github.tomakehurst.wiremock.http.AbstractRequestHandler.handle(AbstractRequestHandler.java:73)
	at com.github.tomakehurst.wiremock.servlet.WireMockHandlerDispatchingServlet.service(WireMockHandlerDispatchingServlet.java:165)
	at wiremock.jakarta.servlet.http.HttpServlet.service(HttpServlet.java:587)
	at wiremock.org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:764)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1665)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:527)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221)
	at wiremock.org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1381)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:176)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:484)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:174)
	at wiremock.org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1303)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:129)
	at wiremock.org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)
	at wiremock.org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:822)
	at wiremock.org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:141)
	at wiremock.org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)
	at wiremock.org.eclipse.jetty.server.Server.handle(Server.java:563)
	at wiremock.org.eclipse.jetty.server.HttpChannel$RequestDispatchable.dispatch(HttpChannel.java:1598)
	at wiremock.org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:753)
	at wiremock.org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:501)
	at wiremock.org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:287)
	at wiremock.org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:314)
	at wiremock.org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)
	at wiremock.org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:421)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:390)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:277)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.run(AdaptiveExecutionStrategy.java:199)
	at wiremock.org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:411)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:969)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.doRunJob(QueuedThreadPool.java:1194)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1149)
	at java.base/java.lang.Thread.run(Unknown Source)
</pre>

</body>
</html>

2026-02-20 12:55:32.921 [mailEventsListener-1] ERROR s.hitract.service.MailgunHttpService - Failed to send mail to info@hitract.se via Mailgun HTTP API
java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR - <html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1"/>
<title>Error 500 java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</title>
</head>
<body><h2>HTTP ERROR 500 java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</h2>
<table>
<tr><th>URI:</th><td>/sandbox.hitract.se/messages</td></tr>
<tr><th>STATUS:</th><td>500</td></tr>
<tr><th>MESSAGE:</th><td>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</td></tr>
<tr><th>SERVLET:</th><td>com.github.tomakehurst.wiremock.servlet.WireMockHandlerDispatchingServlet-773cbf4f</td></tr>
<tr><th>CAUSED BY:</th><td>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</td></tr>
</table>
<h3>Caused by:</h3><pre>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])
	at java.base/java.util.stream.Collectors.duplicateKeyException(Unknown Source)
	at java.base/java.util.stream.Collectors.lambda$uniqKeysMapAccumulator$1(Unknown Source)
	at java.base/java.util.stream.ReduceOps$3ReducingSink.accept(Unknown Source)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.copyInto(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.evaluate(Unknown Source)
	at java.base/java.util.stream.ReferencePipeline.collect(Unknown Source)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildRequestPartModel(TemplateEngine.java:201)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildRequestModel(TemplateEngine.java:173)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildModelForRequest(TemplateEngine.java:146)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.LazyTemplateEngine.buildModelForRequest(LazyTemplateEngine.java:42)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.ResponseTemplateTransformer.transform(ResponseTemplateTransformer.java:77)
	at com.github.tomakehurst.wiremock.stubbing.AbstractStubMappings.applyV2Transformations(AbstractStubMappings.java:152)
	at com.github.tomakehurst.wiremock.stubbing.AbstractStubMappings.serveFor(AbstractStubMappings.java:110)
	at com.github.tomakehurst.wiremock.core.WireMockApp.serveStubFor(WireMockApp.java:293)
	at com.github.tomakehurst.wiremock.http.StubRequestHandler.handleRequest(StubRequestHandler.java:73)
	at com.github.tomakehurst.wiremock.http.AbstractRequestHandler.handle(AbstractRequestHandler.java:73)
	at com.github.tomakehurst.wiremock.servlet.WireMockHandlerDispatchingServlet.service(WireMockHandlerDispatchingServlet.java:165)
	at wiremock.jakarta.servlet.http.HttpServlet.service(HttpServlet.java:587)
	at wiremock.org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:764)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1665)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:527)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221)
	at wiremock.org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1381)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:176)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:484)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:174)
	at wiremock.org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1303)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:129)
	at wiremock.org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)
	at wiremock.org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:822)
	at wiremock.org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:141)
	at wiremock.org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)
	at wiremock.org.eclipse.jetty.server.Server.handle(Server.java:563)
	at wiremock.org.eclipse.jetty.server.HttpChannel$RequestDispatchable.dispatch(HttpChannel.java:1598)
	at wiremock.org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:753)
	at wiremock.org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:501)
	at wiremock.org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:287)
	at wiremock.org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:314)
	at wiremock.org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)
	at wiremock.org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:421)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:390)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:277)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.run(AdaptiveExecutionStrategy.java:199)
	at wiremock.org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:411)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:969)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.doRunJob(QueuedThreadPool.java:1194)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1149)
	at java.base/java.lang.Thread.run(Unknown Source)
</pre>

</body>
</html>

	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:54)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:827)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:216)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$body$0(DefaultRestClient.java:757)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.body(DefaultRestClient.java:757)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:174)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2026-02-20 12:55:32.991 [mailEventsListener-1] ERROR s.hitract.service.MailSenderService - FAILED to process mail for info@hitract.se: Mail sending failed for: info@hitract.se
2026-02-20 12:55:32.991 [mailEventsListener-1] ERROR se.hitract.consumer.EmailConsumer - SYSTEM ERROR: Attempt failed for CONTACT_INFO. Rqueue will retry.
java.lang.RuntimeException: Email delivery failed
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:313)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Mail sending failed for: info@hitract.se
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:183)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	... 21 common frames omitted
Caused by: java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR - <html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1"/>
<title>Error 500 java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</title>
</head>
<body><h2>HTTP ERROR 500 java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</h2>
<table>
<tr><th>URI:</th><td>/sandbox.hitract.se/messages</td></tr>
<tr><th>STATUS:</th><td>500</td></tr>
<tr><th>MESSAGE:</th><td>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</td></tr>
<tr><th>SERVLET:</th><td>com.github.tomakehurst.wiremock.servlet.WireMockHandlerDispatchingServlet-773cbf4f</td></tr>
<tr><th>CAUSED BY:</th><td>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</td></tr>
</table>
<h3>Caused by:</h3><pre>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])
	at java.base/java.util.stream.Collectors.duplicateKeyException(Unknown Source)
	at java.base/java.util.stream.Collectors.lambda$uniqKeysMapAccumulator$1(Unknown Source)
	at java.base/java.util.stream.ReduceOps$3ReducingSink.accept(Unknown Source)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.copyInto(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.evaluate(Unknown Source)
	at java.base/java.util.stream.ReferencePipeline.collect(Unknown Source)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildRequestPartModel(TemplateEngine.java:201)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildRequestModel(TemplateEngine.java:173)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildModelForRequest(TemplateEngine.java:146)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.LazyTemplateEngine.buildModelForRequest(LazyTemplateEngine.java:42)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.ResponseTemplateTransformer.transform(ResponseTemplateTransformer.java:77)
	at com.github.tomakehurst.wiremock.stubbing.AbstractStubMappings.applyV2Transformations(AbstractStubMappings.java:152)
	at com.github.tomakehurst.wiremock.stubbing.AbstractStubMappings.serveFor(AbstractStubMappings.java:110)
	at com.github.tomakehurst.wiremock.core.WireMockApp.serveStubFor(WireMockApp.java:293)
	at com.github.tomakehurst.wiremock.http.StubRequestHandler.handleRequest(StubRequestHandler.java:73)
	at com.github.tomakehurst.wiremock.http.AbstractRequestHandler.handle(AbstractRequestHandler.java:73)
	at com.github.tomakehurst.wiremock.servlet.WireMockHandlerDispatchingServlet.service(WireMockHandlerDispatchingServlet.java:165)
	at wiremock.jakarta.servlet.http.HttpServlet.service(HttpServlet.java:587)
	at wiremock.org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:764)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1665)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:527)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221)
	at wiremock.org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1381)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:176)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:484)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:174)
	at wiremock.org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1303)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:129)
	at wiremock.org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)
	at wiremock.org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:822)
	at wiremock.org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:141)
	at wiremock.org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)
	at wiremock.org.eclipse.jetty.server.Server.handle(Server.java:563)
	at wiremock.org.eclipse.jetty.server.HttpChannel$RequestDispatchable.dispatch(HttpChannel.java:1598)
	at wiremock.org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:753)
	at wiremock.org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:501)
	at wiremock.org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:287)
	at wiremock.org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:314)
	at wiremock.org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)
	at wiremock.org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:421)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:390)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:277)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.run(AdaptiveExecutionStrategy.java:199)
	at wiremock.org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:411)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:969)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.doRunJob(QueuedThreadPool.java:1194)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1149)
	at java.base/java.lang.Thread.run(Unknown Source)
</pre>

</body>
</html>

	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:54)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:827)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:216)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$body$0(DefaultRestClient.java:757)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.body(DefaultRestClient.java:757)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:174)
	... 22 common frames omitted
2026-02-20 12:55:41.322 [mailEventsListener-2] INFO  se.hitract.consumer.EmailConsumer - START: Processing email for type: CONTACT_INFO (Email: null)
2026-02-20 12:55:41.361 [mailEventsListener-2] ERROR s.hitract.service.MailgunHttpService - Mailgun API Error: 500 INTERNAL_SERVER_ERROR - Body: <html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1"/>
<title>Error 500 java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</title>
</head>
<body><h2>HTTP ERROR 500 java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</h2>
<table>
<tr><th>URI:</th><td>/sandbox.hitract.se/messages</td></tr>
<tr><th>STATUS:</th><td>500</td></tr>
<tr><th>MESSAGE:</th><td>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</td></tr>
<tr><th>SERVLET:</th><td>com.github.tomakehurst.wiremock.servlet.WireMockHandlerDispatchingServlet-773cbf4f</td></tr>
<tr><th>CAUSED BY:</th><td>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</td></tr>
</table>
<h3>Caused by:</h3><pre>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])
	at java.base/java.util.stream.Collectors.duplicateKeyException(Unknown Source)
	at java.base/java.util.stream.Collectors.lambda$uniqKeysMapAccumulator$1(Unknown Source)
	at java.base/java.util.stream.ReduceOps$3ReducingSink.accept(Unknown Source)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.copyInto(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.evaluate(Unknown Source)
	at java.base/java.util.stream.ReferencePipeline.collect(Unknown Source)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildRequestPartModel(TemplateEngine.java:201)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildRequestModel(TemplateEngine.java:173)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildModelForRequest(TemplateEngine.java:146)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.LazyTemplateEngine.buildModelForRequest(LazyTemplateEngine.java:42)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.ResponseTemplateTransformer.transform(ResponseTemplateTransformer.java:77)
	at com.github.tomakehurst.wiremock.stubbing.AbstractStubMappings.applyV2Transformations(AbstractStubMappings.java:152)
	at com.github.tomakehurst.wiremock.stubbing.AbstractStubMappings.serveFor(AbstractStubMappings.java:110)
	at com.github.tomakehurst.wiremock.core.WireMockApp.serveStubFor(WireMockApp.java:293)
	at com.github.tomakehurst.wiremock.http.StubRequestHandler.handleRequest(StubRequestHandler.java:73)
	at com.github.tomakehurst.wiremock.http.AbstractRequestHandler.handle(AbstractRequestHandler.java:73)
	at com.github.tomakehurst.wiremock.servlet.WireMockHandlerDispatchingServlet.service(WireMockHandlerDispatchingServlet.java:165)
	at wiremock.jakarta.servlet.http.HttpServlet.service(HttpServlet.java:587)
	at wiremock.org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:764)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1665)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:527)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221)
	at wiremock.org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1381)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:176)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:484)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:174)
	at wiremock.org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1303)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:129)
	at wiremock.org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)
	at wiremock.org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:822)
	at wiremock.org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:141)
	at wiremock.org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)
	at wiremock.org.eclipse.jetty.server.Server.handle(Server.java:563)
	at wiremock.org.eclipse.jetty.server.HttpChannel$RequestDispatchable.dispatch(HttpChannel.java:1598)
	at wiremock.org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:753)
	at wiremock.org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:501)
	at wiremock.org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:287)
	at wiremock.org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:314)
	at wiremock.org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)
	at wiremock.org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:421)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:390)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:277)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.run(AdaptiveExecutionStrategy.java:199)
	at wiremock.org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:411)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:969)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.doRunJob(QueuedThreadPool.java:1194)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1149)
	at java.base/java.lang.Thread.run(Unknown Source)
</pre>

</body>
</html>

2026-02-20 12:55:41.361 [mailEventsListener-2] ERROR s.hitract.service.MailgunHttpService - Failed to send mail to info@hitract.se via Mailgun HTTP API
java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR - <html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1"/>
<title>Error 500 java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</title>
</head>
<body><h2>HTTP ERROR 500 java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</h2>
<table>
<tr><th>URI:</th><td>/sandbox.hitract.se/messages</td></tr>
<tr><th>STATUS:</th><td>500</td></tr>
<tr><th>MESSAGE:</th><td>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</td></tr>
<tr><th>SERVLET:</th><td>com.github.tomakehurst.wiremock.servlet.WireMockHandlerDispatchingServlet-773cbf4f</td></tr>
<tr><th>CAUSED BY:</th><td>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</td></tr>
</table>
<h3>Caused by:</h3><pre>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])
	at java.base/java.util.stream.Collectors.duplicateKeyException(Unknown Source)
	at java.base/java.util.stream.Collectors.lambda$uniqKeysMapAccumulator$1(Unknown Source)
	at java.base/java.util.stream.ReduceOps$3ReducingSink.accept(Unknown Source)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.copyInto(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.evaluate(Unknown Source)
	at java.base/java.util.stream.ReferencePipeline.collect(Unknown Source)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildRequestPartModel(TemplateEngine.java:201)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildRequestModel(TemplateEngine.java:173)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildModelForRequest(TemplateEngine.java:146)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.LazyTemplateEngine.buildModelForRequest(LazyTemplateEngine.java:42)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.ResponseTemplateTransformer.transform(ResponseTemplateTransformer.java:77)
	at com.github.tomakehurst.wiremock.stubbing.AbstractStubMappings.applyV2Transformations(AbstractStubMappings.java:152)
	at com.github.tomakehurst.wiremock.stubbing.AbstractStubMappings.serveFor(AbstractStubMappings.java:110)
	at com.github.tomakehurst.wiremock.core.WireMockApp.serveStubFor(WireMockApp.java:293)
	at com.github.tomakehurst.wiremock.http.StubRequestHandler.handleRequest(StubRequestHandler.java:73)
	at com.github.tomakehurst.wiremock.http.AbstractRequestHandler.handle(AbstractRequestHandler.java:73)
	at com.github.tomakehurst.wiremock.servlet.WireMockHandlerDispatchingServlet.service(WireMockHandlerDispatchingServlet.java:165)
	at wiremock.jakarta.servlet.http.HttpServlet.service(HttpServlet.java:587)
	at wiremock.org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:764)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1665)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:527)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221)
	at wiremock.org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1381)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:176)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:484)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:174)
	at wiremock.org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1303)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:129)
	at wiremock.org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)
	at wiremock.org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:822)
	at wiremock.org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:141)
	at wiremock.org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)
	at wiremock.org.eclipse.jetty.server.Server.handle(Server.java:563)
	at wiremock.org.eclipse.jetty.server.HttpChannel$RequestDispatchable.dispatch(HttpChannel.java:1598)
	at wiremock.org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:753)
	at wiremock.org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:501)
	at wiremock.org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:287)
	at wiremock.org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:314)
	at wiremock.org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)
	at wiremock.org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:421)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:390)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:277)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.run(AdaptiveExecutionStrategy.java:199)
	at wiremock.org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:411)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:969)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.doRunJob(QueuedThreadPool.java:1194)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1149)
	at java.base/java.lang.Thread.run(Unknown Source)
</pre>

</body>
</html>

	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:54)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:827)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:216)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$body$0(DefaultRestClient.java:757)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.body(DefaultRestClient.java:757)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:174)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2026-02-20 12:55:41.377 [mailEventsListener-2] ERROR s.hitract.service.MailSenderService - FAILED to process mail for info@hitract.se: Mail sending failed for: info@hitract.se
2026-02-20 12:55:41.377 [mailEventsListener-2] ERROR se.hitract.consumer.EmailConsumer - SYSTEM ERROR: Attempt failed for CONTACT_INFO. Rqueue will retry.
java.lang.RuntimeException: Email delivery failed
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:313)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Mail sending failed for: info@hitract.se
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:183)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	... 21 common frames omitted
Caused by: java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR - <html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1"/>
<title>Error 500 java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</title>
</head>
<body><h2>HTTP ERROR 500 java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</h2>
<table>
<tr><th>URI:</th><td>/sandbox.hitract.se/messages</td></tr>
<tr><th>STATUS:</th><td>500</td></tr>
<tr><th>MESSAGE:</th><td>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</td></tr>
<tr><th>SERVLET:</th><td>com.github.tomakehurst.wiremock.servlet.WireMockHandlerDispatchingServlet-773cbf4f</td></tr>
<tr><th>CAUSED BY:</th><td>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</td></tr>
</table>
<h3>Caused by:</h3><pre>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])
	at java.base/java.util.stream.Collectors.duplicateKeyException(Unknown Source)
	at java.base/java.util.stream.Collectors.lambda$uniqKeysMapAccumulator$1(Unknown Source)
	at java.base/java.util.stream.ReduceOps$3ReducingSink.accept(Unknown Source)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.copyInto(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.evaluate(Unknown Source)
	at java.base/java.util.stream.ReferencePipeline.collect(Unknown Source)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildRequestPartModel(TemplateEngine.java:201)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildRequestModel(TemplateEngine.java:173)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildModelForRequest(TemplateEngine.java:146)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.LazyTemplateEngine.buildModelForRequest(LazyTemplateEngine.java:42)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.ResponseTemplateTransformer.transform(ResponseTemplateTransformer.java:77)
	at com.github.tomakehurst.wiremock.stubbing.AbstractStubMappings.applyV2Transformations(AbstractStubMappings.java:152)
	at com.github.tomakehurst.wiremock.stubbing.AbstractStubMappings.serveFor(AbstractStubMappings.java:110)
	at com.github.tomakehurst.wiremock.core.WireMockApp.serveStubFor(WireMockApp.java:293)
	at com.github.tomakehurst.wiremock.http.StubRequestHandler.handleRequest(StubRequestHandler.java:73)
	at com.github.tomakehurst.wiremock.http.AbstractRequestHandler.handle(AbstractRequestHandler.java:73)
	at com.github.tomakehurst.wiremock.servlet.WireMockHandlerDispatchingServlet.service(WireMockHandlerDispatchingServlet.java:165)
	at wiremock.jakarta.servlet.http.HttpServlet.service(HttpServlet.java:587)
	at wiremock.org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:764)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1665)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:527)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221)
	at wiremock.org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1381)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:176)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:484)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:174)
	at wiremock.org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1303)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:129)
	at wiremock.org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)
	at wiremock.org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:822)
	at wiremock.org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:141)
	at wiremock.org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)
	at wiremock.org.eclipse.jetty.server.Server.handle(Server.java:563)
	at wiremock.org.eclipse.jetty.server.HttpChannel$RequestDispatchable.dispatch(HttpChannel.java:1598)
	at wiremock.org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:753)
	at wiremock.org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:501)
	at wiremock.org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:287)
	at wiremock.org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:314)
	at wiremock.org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)
	at wiremock.org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:421)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:390)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:277)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.run(AdaptiveExecutionStrategy.java:199)
	at wiremock.org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:411)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:969)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.doRunJob(QueuedThreadPool.java:1194)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1149)
	at java.base/java.lang.Thread.run(Unknown Source)
</pre>

</body>
</html>

	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:54)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:827)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:216)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$body$0(DefaultRestClient.java:757)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.body(DefaultRestClient.java:757)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:174)
	... 22 common frames omitted
2026-02-20 12:55:47.021 [mailEventsListener-3] INFO  se.hitract.consumer.EmailConsumer - START: Processing email for type: CONTACT_INFO (Email: null)
2026-02-20 12:55:47.030 [mailEventsListener-3] ERROR s.hitract.service.MailgunHttpService - Mailgun API Error: 500 INTERNAL_SERVER_ERROR - Body: <html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1"/>
<title>Error 500 java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</title>
</head>
<body><h2>HTTP ERROR 500 java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</h2>
<table>
<tr><th>URI:</th><td>/sandbox.hitract.se/messages</td></tr>
<tr><th>STATUS:</th><td>500</td></tr>
<tr><th>MESSAGE:</th><td>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</td></tr>
<tr><th>SERVLET:</th><td>com.github.tomakehurst.wiremock.servlet.WireMockHandlerDispatchingServlet-773cbf4f</td></tr>
<tr><th>CAUSED BY:</th><td>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</td></tr>
</table>
<h3>Caused by:</h3><pre>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])
	at java.base/java.util.stream.Collectors.duplicateKeyException(Unknown Source)
	at java.base/java.util.stream.Collectors.lambda$uniqKeysMapAccumulator$1(Unknown Source)
	at java.base/java.util.stream.ReduceOps$3ReducingSink.accept(Unknown Source)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.copyInto(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.evaluate(Unknown Source)
	at java.base/java.util.stream.ReferencePipeline.collect(Unknown Source)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildRequestPartModel(TemplateEngine.java:201)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildRequestModel(TemplateEngine.java:173)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildModelForRequest(TemplateEngine.java:146)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.LazyTemplateEngine.buildModelForRequest(LazyTemplateEngine.java:42)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.ResponseTemplateTransformer.transform(ResponseTemplateTransformer.java:77)
	at com.github.tomakehurst.wiremock.stubbing.AbstractStubMappings.applyV2Transformations(AbstractStubMappings.java:152)
	at com.github.tomakehurst.wiremock.stubbing.AbstractStubMappings.serveFor(AbstractStubMappings.java:110)
	at com.github.tomakehurst.wiremock.core.WireMockApp.serveStubFor(WireMockApp.java:293)
	at com.github.tomakehurst.wiremock.http.StubRequestHandler.handleRequest(StubRequestHandler.java:73)
	at com.github.tomakehurst.wiremock.http.AbstractRequestHandler.handle(AbstractRequestHandler.java:73)
	at com.github.tomakehurst.wiremock.servlet.WireMockHandlerDispatchingServlet.service(WireMockHandlerDispatchingServlet.java:165)
	at wiremock.jakarta.servlet.http.HttpServlet.service(HttpServlet.java:587)
	at wiremock.org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:764)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1665)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:527)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221)
	at wiremock.org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1381)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:176)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:484)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:174)
	at wiremock.org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1303)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:129)
	at wiremock.org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)
	at wiremock.org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:822)
	at wiremock.org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:141)
	at wiremock.org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)
	at wiremock.org.eclipse.jetty.server.Server.handle(Server.java:563)
	at wiremock.org.eclipse.jetty.server.HttpChannel$RequestDispatchable.dispatch(HttpChannel.java:1598)
	at wiremock.org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:753)
	at wiremock.org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:501)
	at wiremock.org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:287)
	at wiremock.org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:314)
	at wiremock.org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)
	at wiremock.org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:421)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:390)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:277)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.run(AdaptiveExecutionStrategy.java:199)
	at wiremock.org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:411)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:969)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.doRunJob(QueuedThreadPool.java:1194)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1149)
	at java.base/java.lang.Thread.run(Unknown Source)
</pre>

</body>
</html>

2026-02-20 12:55:47.031 [mailEventsListener-3] ERROR s.hitract.service.MailgunHttpService - Failed to send mail to info@hitract.se via Mailgun HTTP API
java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR - <html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1"/>
<title>Error 500 java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</title>
</head>
<body><h2>HTTP ERROR 500 java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</h2>
<table>
<tr><th>URI:</th><td>/sandbox.hitract.se/messages</td></tr>
<tr><th>STATUS:</th><td>500</td></tr>
<tr><th>MESSAGE:</th><td>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</td></tr>
<tr><th>SERVLET:</th><td>com.github.tomakehurst.wiremock.servlet.WireMockHandlerDispatchingServlet-773cbf4f</td></tr>
<tr><th>CAUSED BY:</th><td>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</td></tr>
</table>
<h3>Caused by:</h3><pre>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])
	at java.base/java.util.stream.Collectors.duplicateKeyException(Unknown Source)
	at java.base/java.util.stream.Collectors.lambda$uniqKeysMapAccumulator$1(Unknown Source)
	at java.base/java.util.stream.ReduceOps$3ReducingSink.accept(Unknown Source)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.copyInto(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.evaluate(Unknown Source)
	at java.base/java.util.stream.ReferencePipeline.collect(Unknown Source)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildRequestPartModel(TemplateEngine.java:201)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildRequestModel(TemplateEngine.java:173)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildModelForRequest(TemplateEngine.java:146)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.LazyTemplateEngine.buildModelForRequest(LazyTemplateEngine.java:42)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.ResponseTemplateTransformer.transform(ResponseTemplateTransformer.java:77)
	at com.github.tomakehurst.wiremock.stubbing.AbstractStubMappings.applyV2Transformations(AbstractStubMappings.java:152)
	at com.github.tomakehurst.wiremock.stubbing.AbstractStubMappings.serveFor(AbstractStubMappings.java:110)
	at com.github.tomakehurst.wiremock.core.WireMockApp.serveStubFor(WireMockApp.java:293)
	at com.github.tomakehurst.wiremock.http.StubRequestHandler.handleRequest(StubRequestHandler.java:73)
	at com.github.tomakehurst.wiremock.http.AbstractRequestHandler.handle(AbstractRequestHandler.java:73)
	at com.github.tomakehurst.wiremock.servlet.WireMockHandlerDispatchingServlet.service(WireMockHandlerDispatchingServlet.java:165)
	at wiremock.jakarta.servlet.http.HttpServlet.service(HttpServlet.java:587)
	at wiremock.org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:764)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1665)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:527)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221)
	at wiremock.org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1381)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:176)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:484)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:174)
	at wiremock.org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1303)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:129)
	at wiremock.org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)
	at wiremock.org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:822)
	at wiremock.org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:141)
	at wiremock.org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)
	at wiremock.org.eclipse.jetty.server.Server.handle(Server.java:563)
	at wiremock.org.eclipse.jetty.server.HttpChannel$RequestDispatchable.dispatch(HttpChannel.java:1598)
	at wiremock.org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:753)
	at wiremock.org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:501)
	at wiremock.org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:287)
	at wiremock.org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:314)
	at wiremock.org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)
	at wiremock.org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:421)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:390)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:277)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.run(AdaptiveExecutionStrategy.java:199)
	at wiremock.org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:411)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:969)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.doRunJob(QueuedThreadPool.java:1194)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1149)
	at java.base/java.lang.Thread.run(Unknown Source)
</pre>

</body>
</html>

	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:54)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:827)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:216)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$body$0(DefaultRestClient.java:757)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.body(DefaultRestClient.java:757)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:174)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2026-02-20 12:55:47.037 [mailEventsListener-3] ERROR s.hitract.service.MailSenderService - FAILED to process mail for info@hitract.se: Mail sending failed for: info@hitract.se
2026-02-20 12:55:47.037 [mailEventsListener-3] ERROR se.hitract.consumer.EmailConsumer - SYSTEM ERROR: Attempt failed for CONTACT_INFO. Rqueue will retry.
java.lang.RuntimeException: Email delivery failed
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:313)
	at se.hitract.service.MailRoutingService.routeEmail(MailRoutingService.java:39)
	at se.hitract.consumer.EmailConsumer.processEmail(EmailConsumer.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:568)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.executeMatches(RqueueMessageHandler.java:254)
	at com.github.sonus21.rqueue.listener.RqueueMessageHandler.handleMessageInternal(RqueueMessageHandler.java:226)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457)
	at com.github.sonus21.rqueue.core.middleware.HandlerMiddleware.handle(HandlerMiddleware.java:50)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.callMiddlewares(RqueueExecutor.java:240)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.processMessage(RqueueExecutor.java:255)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.execute(RqueueExecutor.java:266)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handleMessage(RqueueExecutor.java:307)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.handle(RqueueExecutor.java:379)
	at com.github.sonus21.rqueue.listener.RqueueExecutor.start(RqueueExecutor.java:396)
	at com.github.sonus21.rqueue.utils.RetryableRunnable.run(RetryableRunnable.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Mail sending failed for: info@hitract.se
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:183)
	at se.hitract.service.MailSenderService.sendNewContactInfoMail(MailSenderService.java:310)
	... 21 common frames omitted
Caused by: java.lang.RuntimeException: Mailgun API Error: 500 INTERNAL_SERVER_ERROR - <html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1"/>
<title>Error 500 java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</title>
</head>
<body><h2>HTTP ERROR 500 java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</h2>
<table>
<tr><th>URI:</th><td>/sandbox.hitract.se/messages</td></tr>
<tr><th>STATUS:</th><td>500</td></tr>
<tr><th>MESSAGE:</th><td>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</td></tr>
<tr><th>SERVLET:</th><td>com.github.tomakehurst.wiremock.servlet.WireMockHandlerDispatchingServlet-773cbf4f</td></tr>
<tr><th>CAUSED BY:</th><td>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])</td></tr>
</table>
<h3>Caused by:</h3><pre>java.lang.IllegalStateException: Duplicate key cc (attempted merging values [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=15, content-type=text/plain;charset=UTF-8}, body=info@hitract.se] and [name=&apos;cc&apos;, headers={content-disposition=form-data; name=&quot;cc&quot;, content-length=16, content-type=text/plain;charset=UTF-8}, body=robel@hitract.se])
	at java.base/java.util.stream.Collectors.duplicateKeyException(Unknown Source)
	at java.base/java.util.stream.Collectors.lambda$uniqKeysMapAccumulator$1(Unknown Source)
	at java.base/java.util.stream.ReduceOps$3ReducingSink.accept(Unknown Source)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.copyInto(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.evaluate(Unknown Source)
	at java.base/java.util.stream.ReferencePipeline.collect(Unknown Source)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildRequestPartModel(TemplateEngine.java:201)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildRequestModel(TemplateEngine.java:173)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.TemplateEngine.buildModelForRequest(TemplateEngine.java:146)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.LazyTemplateEngine.buildModelForRequest(LazyTemplateEngine.java:42)
	at com.github.tomakehurst.wiremock.extension.responsetemplating.ResponseTemplateTransformer.transform(ResponseTemplateTransformer.java:77)
	at com.github.tomakehurst.wiremock.stubbing.AbstractStubMappings.applyV2Transformations(AbstractStubMappings.java:152)
	at com.github.tomakehurst.wiremock.stubbing.AbstractStubMappings.serveFor(AbstractStubMappings.java:110)
	at com.github.tomakehurst.wiremock.core.WireMockApp.serveStubFor(WireMockApp.java:293)
	at com.github.tomakehurst.wiremock.http.StubRequestHandler.handleRequest(StubRequestHandler.java:73)
	at com.github.tomakehurst.wiremock.http.AbstractRequestHandler.handle(AbstractRequestHandler.java:73)
	at com.github.tomakehurst.wiremock.servlet.WireMockHandlerDispatchingServlet.service(WireMockHandlerDispatchingServlet.java:165)
	at wiremock.jakarta.servlet.http.HttpServlet.service(HttpServlet.java:587)
	at wiremock.org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:764)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1665)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:527)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221)
	at wiremock.org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1381)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:176)
	at wiremock.org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:484)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:174)
	at wiremock.org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1303)
	at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:129)
	at wiremock.org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)
	at wiremock.org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:822)
	at wiremock.org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:141)
	at wiremock.org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)
	at wiremock.org.eclipse.jetty.server.Server.handle(Server.java:563)
	at wiremock.org.eclipse.jetty.server.HttpChannel$RequestDispatchable.dispatch(HttpChannel.java:1598)
	at wiremock.org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:753)
	at wiremock.org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:501)
	at wiremock.org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:287)
	at wiremock.org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:314)
	at wiremock.org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)
	at wiremock.org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:421)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:390)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:277)
	at wiremock.org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.run(AdaptiveExecutionStrategy.java:199)
	at wiremock.org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:411)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:969)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.doRunJob(QueuedThreadPool.java:1194)
	at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1149)
	at java.base/java.lang.Thread.run(Unknown Source)
</pre>

</body>
</html>

	at se.hitract.service.MailgunHttpService.lambda$new$0(MailgunHttpService.java:54)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:838)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:827)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:216)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$body$0(DefaultRestClient.java:757)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:586)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:540)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:680)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:821)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.body(DefaultRestClient.java:757)
	at se.hitract.service.MailgunHttpService.send(MailgunHttpService.java:174)
	... 22 common frames omitted
2026-02-20 12:58:37.179 [main] INFO  se.hitract.MicroMailApplication - Starting MicroMailApplication using Java 21.0.10 with PID 12456 (C:\Users\metet\IdeaProjects\micro-service\target\classes started by metet in C:\Users\metet\IdeaProjects\micro-service)
2026-02-20 12:58:37.179 [main] INFO  se.hitract.MicroMailApplication - No active profile set, falling back to 1 default profile: "default"
2026-02-20 12:58:41.561 [main] INFO  se.hitract.MicroMailApplication - Started MicroMailApplication in 4.598 seconds (process running for 5.246)
2026-02-20 12:59:15.032 [mailEventsListener-1] INFO  se.hitract.consumer.EmailConsumer - START: Processing email for type: CONTACT_INFO (Email: null)
2026-02-20 12:59:16.129 [mailEventsListener-1] INFO  se.hitract.consumer.EmailConsumer - SUCCESS: Sent/Processed type: CONTACT_INFO
